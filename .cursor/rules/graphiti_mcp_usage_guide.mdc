---
alwaysApply: true
---

Instructions for Using Graphiti's MCP Tools

Before Starting Any Task
Always search first: Use the search_nodes tool to look for relevant preferences and procedures before beginning work.
Search for facts too: Use the search_facts tool to discover relationships and factual information that may be relevant to your task.
Filter by entity type: Specify "Preference" or "Procedure" in your node search to get targeted results.
Review all matches: Carefully examine any preferences, procedures, or facts that match your current task.
Always save new or updated information
Capture requirements immediately: When a user expresses a requirement or preference, use add_episode to store it right away. Best practice is to split very long requirements into shorter, logical chunks.
Be explicit if something is an update to existing knowledge.
Document procedures clearly: When you discover how a user wants things done, record it as a procedure.
Record factual relationships: When you learn about connections between entities, store these as facts.
Be specific with categories: Label preferences and procedures with clear categories for better retrieval later.

During Your Work
Respect discovered preferences: Align your work with any preferences you've found.
Follow procedures exactly: If you find a procedure for your current task, follow it step by step.
Apply relevant facts: Use factual information to inform your decisions and recommendations.
Stay consistent: Maintain consistency with previously identified preferences, procedures, and facts.

Best Practices
Search before suggesting: Always check if there's established knowledge before making recommendations.
Combine node and fact searches: For complex tasks, search both nodes and facts to build a complete picture.
Use center_node_uuid: When exploring related information, center your search around a specific node.
Prioritize specific matches: More specific information takes precedence over general information.
Be proactive: If you notice patterns in user behavior, consider storing them as preferences or procedures.

Remember: The knowledge graph is your memory. Use it consistently to provide personalized assistance that respects the user's established procedures, and factual context.

Core Principle,Quick Action (Before Starting)
Know Your Context,Use search_nodes for Preferences & Procedures.
Know the Relationships,Use search_facts for factual information and connections.
Be Efficient,"Filter nodes immediately by specifying ""Preference"" or ""Procedure."" and factual context.

### 1. Always Search First (The Foundation)

| Core Principle | Quick Action (Before Starting) |
| :--- | :--- |
| **Know Your Context** | Use **search\_nodes** for **Preferences** & **Procedures**. |
| **Know the Relationships** | Use **search\_facts** for factual information and connections. |
| **Be Efficient** | Filter nodes immediately by specifying "**Preference**" or "**Procedure**." |
| **Be Thorough** | **Review ALL matches** before proceeding. |

---

### 2. Capture and Document Immediately (The Memory)

| Core Principle | Quick Action (Saving New Info) |
| :--- | :--- |
| **Don't Lose Context** | **IMMEDIATELY** use **add\_episode** for any new user requirement or preference. (Break long requirements into logical chunks.) |
| **Be Explicit** | **Clearly state** if an entry is an **update** to existing knowledge. |
| **Define the "How"** | Record new, confirmed user workflows as a **Procedure**. |
| **Define the "What"** | Record connections between entities as **Facts**. |
| **Tag Everything** | **Be specific with categories** for all new Preferences and Procedures. |

---

### 3. Consistency and Precision (During Work)

| Core Principle | Quick Action (While Working) |
| :--- | :--- |
| **Respect the User** | **Align your work** with all found **Preferences**. |
| **Be Reliable** | **Follow Procedures step-by-step**, without deviation. |
| **Be Informed** | Use **Factual Information** to inform your decisions and recommendations. |
| **Stay Consistent** | **Maintain alignment** with all established knowledge (Preferences, Procedures, and Facts). |

---