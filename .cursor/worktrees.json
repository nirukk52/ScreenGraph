{
  "setup-worktree": [
    "echo 'üöÄ ScreenGraph Worktree Setup - Port Management Enabled'",
    "cd backend && bun install",
    "cd ../frontend && bun install",
    "cd ..",
    "test -f scripts/port-coordinator.mjs || { echo 'ERROR: port-coordinator.mjs not found at root scripts/' >&2; exit 1; }",
    "test -f scripts/dev-backend.sh || { echo 'ERROR: dev-backend.sh not found at root scripts/' >&2; exit 1; }",
    "test -f scripts/dev-frontend.sh || { echo 'ERROR: dev-frontend.sh not found at root scripts/' >&2; exit 1; }",
    "bun scripts/port-coordinator.mjs --json > /dev/null || { echo 'WARN: Port coordinator check failed' >&2; }",
    "echo ''",
    "echo '‚úì Dependencies installed. Port assignments:'",
    "bun scripts/port-coordinator.mjs",
    "echo ''",
    "echo 'üìã To start services (run from repo root):'",
    "echo '   Backend:  ./scripts/dev-backend.sh'",
    "echo '   Frontend: ./scripts/dev-frontend.sh'",
    "echo ''",
    "echo '‚ö†Ô∏è  IMPORTANT: Always use scripts/dev-backend.sh and scripts/dev-frontend.sh'",
    "echo '‚ö†Ô∏è  Do NOT run encore run or vite dev directly in worktrees'",
    "echo '‚ö†Ô∏è  Main tree ports (4000, 5173, 9400, 4723) reserved for Local mode'"
  ]
}

