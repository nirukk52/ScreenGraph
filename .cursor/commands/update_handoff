# Update Handoff Command

Use sequential thinking to create todos for the steps below:

## Step 1: Update Documentation Skills
Update all three `SKILLS.md` files with new capabilities/patterns learned.

## Step 2: Create Graphiti Memory Episodes
Create comprehensive memory episodes in the Graphiti MCP Memory System covering:
- **Rules**: New coding rules or conventions established
- **Facts**: Technical facts discovered (APIs, behaviors, bugs)
- **Procedures**: Step-by-step processes for common tasks
- **Preferences**: Architectural or implementation preferences

Group related information by `group_id` (e.g., feature ID, bug ID).

## Step 3: Update Handoff Documents
Update the appropriate handoff document (BACKEND_HANDOFF.md or FRONTEND_HANDOFF.md).

### Handoff Template Structure:
```markdown
## Handoff #[NUMBER] - [DATE] - [BRIEF_TITLE]

- **What I am doing**: [Current task description]
- **What is pending**: 
  - [ ] Code implementation
  - [ ] Tests written/passing
  - [ ] Manual testing completed
  - [ ] Documentation updated
- **What I plan to do next**: [Next steps]
- **Modules I am touching**: 
  - `path/to/file1.ts`
  - `path/to/file2.ts`
- **Work status rating (out of 5)**: [0-5]
- **Graphiti episode IDs**: 
  - `[episode-uuid-1]` - [brief description]
  - `[episode-uuid-2]` - [brief description]
- **Related docs**: 
  - `path/to/doc1.md`
  - `path/to/doc2.md`
- **Notes for next agent**: [Context, gotchas, recommendations]
```

Add a new handoff section with an incremented number. Mark previous handoffs as completed if done.

## Step 4: Fallback for Graphiti Downtime
**IF Graphiti MCP is down**:
- Create `session_summary.md` in the appropriate feature/bug folder
- Include all rules, facts, procedures, preferences that would have gone into Graphiti
- Alert user with: ğŸš¨ğŸ”´âš ï¸ DANGER: GRAPHITI MCP DOWN - CREATED FALLBACK SUMMARY ğŸš¨ğŸ”´âš ï¸

## Step 5: Create Retro Document
For completed features/bugs, create a retro document:
- Rating (out of 5)
- What went well
- What didn't go well
- Lessons learned

## Step 6: Commit and Push
- Stage all changes
- Create descriptive commit message using work context
- Push to remote
- Commit message should aid future debugging

## Step 7: Update Documentation Indexes
Ensure all `.md` files have updated table of contents/indexes.

---

## REQUIRED OUTPUT FORMAT

After completing all steps, produce this structured output for the user to paste into the next chat:

```markdown
# ğŸ”„ Context Handoff - [FEATURE/BUG ID]

## ğŸ“‹ Quick Summary
[1-2 sentence summary of what was done]

## ğŸ“ Primary Handoff
- **Path**: `[path to BACKEND_HANDOFF.md or FRONTEND_HANDOFF.md]`
- **Handoff Section**: #[NUMBER]

## ğŸ§  Graphiti Memory Episodes
[If Graphiti was available]
- `[episode-uuid-1]` - [description]
- `[episode-uuid-2]` - [description]
- `[episode-uuid-3]` - [description]

[If Graphiti was DOWN]
ğŸš¨ **Fallback Summary**: `[path/to/session_summary.md]`

## ğŸ“‚ Modified/Relevant Files
### Code Files
- `[path/to/file1.ts]`
- `[path/to/file2.ts]`

### Documentation
- `[path/to/doc1.md]`
- `[path/to/doc2.md]`

### Tests
- `[path/to/test1.test.ts]`

## ğŸ¯ Feature/Bug Tracking
- **Feature Request**: `[path/to/FR-XXX.md]` or **Bug**: `[path/to/BUG-XXX.md]`
- **Retro**: `[path/to/retro.md]`
- **Status**: `[path/to/status.md]`

## ğŸ”— Git
- **Branch**: `[branch-name]`
- **Latest Commit**: `[commit-hash]` - "[commit message]"

## âš ï¸ Critical Notes
[Any gotchas, blockers, or important context for next agent]

## ğŸ“Š Work Status
**Rating**: [X]/5
**Next Steps**: [Brief next action items]
```

Copy the above filled-in template and paste it into your next chat session to give the next agent full context.