You will create a comprehensive summary of rules, facts, procedures and preferences 
established during the session/milestone/chat/task/todo/bug and update Graphiti MCP Memory System.

After the memories are created add the ids into any running handoff documents known to you.

If the graphiti memory system is down you will create a session_summary.md with a logical name
and alert the user by using exccesive RED DANGER emojis in your reply.

Update the appropriate handoff document (BACKEND_HANDOFF.md or FRONTEND_HANDOFF.md) with your current work status.

Follow the handoff template:
- **What I am doing**: Describe the current task
- **What is pending**: Checklist of code/tests/manual review
- **What I plan to do next**: Next steps
- **Modules I am touching**: Files/paths being modified
- **Work status rating (out of 5)**: 0-5 rating
- **Graphiti episode IDs**: Memory system IDs (if available)
- **Related docs**: Relevant documentation paths
- **Notes for next agent**: Context and recommendations

Add a new handoff section with an incremented number, and mark previous handoffs as completed if they are done.
