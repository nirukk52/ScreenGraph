# Quick Handoff Command

**Fast, deterministic handoff for regular work sessions (30 seconds vs 2-3 minutes).**

## Steps

1. ‚úÖ **Read current state** (git, modified files, branch)
2. ‚úÖ **Create 1-2 Graphiti episodes** (key changes + notes)
3. ‚úÖ **Update handoff doc** with pre-filled template
4. ‚úÖ **Commit and push**

## What's Skipped

- ‚è≠Ô∏è SKILLS.md updates (do periodically, not every handoff)
- ‚è≠Ô∏è Retro docs (only for completed work)
- ‚è≠Ô∏è Extensive documentation updates
- ‚è≠Ô∏è Production release procedures (use `@update-handoff` for those)

## Workflow

### 1. Auto-Read Context
- Extract current branch name
- Get git status and modified files
- Read latest commit message
- Identify backend vs frontend changes

### 2. Create Focused Graphiti Episodes
Create 1-2 episodes max:
- **Episode 1**: What changed (files, features, fixes)
- **Episode 2**: Key learnings/gotchas (if any critical issues discovered)

Use appropriate `group_id` based on work context (FR-XXX, BUG-XXX, or session identifier).

### 3. Auto-Fill Handoff Template

Determine which handoff doc to update:
- Modified `backend/*` ‚Üí `BACKEND_HANDOFF.md`
- Modified `frontend/*` ‚Üí `FRONTEND_HANDOFF.md`
- Both ‚Üí Update both

Auto-populate template with:
- **Handoff number**: Auto-increment from last handoff
- **Date**: Current date (YYYY-MM-DD)
- **What I am doing**: Infer from modified files + commit messages
- **Modules I am touching**: Extract from git status
- **Pending items**: Auto-check based on file types (code, tests, docs)
- **Branch**: Current branch name
- **Graphiti episode IDs**: From step 2

Prompt user only for:
- Work status rating (0-5)
- Notes for next agent (optional, can be empty)
- Next steps (optional, can be auto-inferred)

### 4. Commit and Push

- Stage all changes (handoff docs + modified files)
- Auto-generate commit message: `docs(handoff): quick update - [brief summary]`
- Push to remote

### 5. Output Structured Summary

Provide compact summary:

```markdown
# üîÑ Quick Handoff Complete

## üìã Summary
[1-sentence summary of what was done]

## üìç Updated Handoffs
- **Backend**: Handoff #[N] or ‚è≠Ô∏è skipped
- **Frontend**: Handoff #[N] or ‚è≠Ô∏è skipped

## üß† Graphiti Episodes
- `[queued-position-X]` - [brief description]

## üîó Git
- **Branch**: `[branch-name]`
- **Commit**: `[hash]` - "[message]"

## ‚è±Ô∏è Time Saved
Completed in ~30 seconds (vs 2-3 min with full handoff)
```

---

## When to Use This Command

‚úÖ **Use Quick Handoff** for:
- Regular development work
- Bug fixes in progress
- Feature iterations
- Documentation updates
- Dependency updates
- Minor refactoring

‚ùå **Use Full Handoff** (`@update-handoff`) for:
- Production releases (PROC-001)
- Major architectural changes
- Feature completions requiring retros
- Skills/documentation updates
- End-of-milestone summaries

---

## Example Usage

```bash
# After working on a feature for 1-2 hours
@update-handoff_quick
# Rate your work (0-5): 4
# Notes for next agent (optional): Fixed type issue with decimal conversion
# ‚úÖ Done! Handoff #X created, committed, pushed.
```

---

## Fallback

If Graphiti MCP is down:
- Alert user: üö® GRAPHITI DOWN - SKIPPING EPISODES üö®
- Create handoff without episode IDs
- Continue with commit/push

