#!/bin/sh
# Husky pre-push hook
# Runs smoke tests + E2E tests before allowing push

echo "ðŸ§ª Running smoke tests before push (bun run qa:smoke)..."
echo ""

# Single entry point ensures Turborepo + Taskfile stay in sync
bun run qa:smoke || exit 1

echo ""
echo "ðŸŽ­ Running E2E tests before push (bun run test:e2e:ci)..."
echo ""

# Run E2E tests in headless CI mode
bun run test:e2e:ci || exit 1

echo ""
echo "âœ… All smoke tests and E2E tests passed - proceeding with push"

