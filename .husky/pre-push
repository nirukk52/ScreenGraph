#!/bin/sh
# Husky pre-push hook
# Runs smoke tests before allowing push

echo "ðŸ§ª Running smoke tests before push..."
echo ""

cd .cursor

# Run smoke tests in parallel
task qa:smoke:backend &
BACKEND_PID=$!

task qa:smoke:frontend &
FRONTEND_PID=$!

# Wait for both to complete
wait $BACKEND_PID || exit 1
wait $FRONTEND_PID || exit 1

echo ""
echo "âœ… All smoke tests passed - proceeding with push"

