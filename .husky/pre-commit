#!/bin/sh
# Husky pre-commit hook
# Auto-fixes and validates code before allowing commit

# Auto-fix linting and formatting
echo "ğŸ”§ Auto-fixing code quality issues..."
(cd .cursor && task qa:fix) || exit 1

# Run the full QA suite (linting, testing, etc.)
echo "ğŸ› ï¸ Running comprehensive QA checks..."
(cd .cursor && task qa:all) || exit 1

# Validate founder rules
echo "ğŸ“‹ Validating founder rules..."
(cd .cursor && task qa:rules:check) || exit 1

# Cursor docs validation (informational, won't block commit)
node automation/scripts/validate-cursor-docs.mjs || echo "âš ï¸  Cursor docs validation failed (non-blocking)"


